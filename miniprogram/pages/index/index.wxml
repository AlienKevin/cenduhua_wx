<!-- index.wxml -->

<view class="container">
  <view class="search-bar">
    <input bindinput="onKeywordInput" placeholder="è¾“å…¥æ±‰å­—æˆ–æ‹¼éŸ³"></input>
    <button bindtap="onSearch" id="search-button">æœç´¢</button>
  </view>
  <view wx:if="{{searchResult.notFound}}" class="no-result">
    æ‰¾ä¸åˆ°{{keyword}}
  </view>
  <view wx:if="{{searchResult.prs}}" style="margin-right: auto;">
    <text>å‘éŸ³:</text>
    <text wx:for="{{searchResult.prs}}"> {{item}}</text>
  </view>
  <view wx:if="{{searchResult.entries}}" class="result-item" wx:for="{{searchResult.entries}}">
    <view>
      <text class="word">{{item.word}}</text>
      <text class="category"> {{item.category}}</text>
    </view>
    <view>
      <text>{{item.pinyin}} </text>
      <button bindtap="onPlay" id="player-{{item.id}}" size="mini">ğŸ“¢</button>
    </view>
    <view class="definition" wx:for="{{item.definitions}}" wx:for-index="index">
      <text><text wx:if="{{index == 0}}">â‘ </text><text wx:if="{{index == 1}}">â‘¡</text><text wx:if="{{index == 2}}">â‘¢</text><text wx:if="{{index == 3}}">â‘£</text><text wx:if="{{index == 4}}">â‘¤</text><text wx:if="{{index == 5}}">â‘¥</text><text wx:if="{{index == 6}}">â‘¦</text><text wx:if="{{index == 7}}">â‘§</text><text wx:if="{{index == 8}}">â‘¨</text><text wx:if="{{index == 9}}">â‘©</text> {{item.definition}}</text>
      <view wx:for="{{item.examples}}" wx:for-index="index" style="margin-left: 10px">
        <text >{{index + 1}}. {{item}}</text>
      </view>
    </view>
  </view>

  <view class="divider"></view>

  <text class="title">æŒ‰åˆ†ç±»æµè§ˆ</text>
  
  <view class="category-list">
    <block wx:for="{{categories}}" wx:key="index">
      <view class="category-item">
        <view class="category-name">{{item.name}}</view>
        <view class="subcategory-list">
          <block wx:for="{{item.subcategories}}" wx:key="index">
            <view class="subcategory-badge mui-badge">{{item}}</view>
          </block>
        </view>
      </view>
    </block>
  </view>
</view>
